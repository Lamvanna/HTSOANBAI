<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Test - Variables</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: #000;
            color: #0f0;
        }
        .pass { color: #0f0; }
        .fail { color: #f00; }
        pre { background: #111; padding: 15px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>⚡ Quick Variable Test</h1>
    <div id="results"></div>
    <pre id="logs"></pre>

    <script>
        const results = document.getElementById('results');
        const logs = document.getElementById('logs');
        const allLogs = [];
        
        // Intercept console
        ['log', 'error', 'warn'].forEach(method => {
            const original = console[method];
            console[method] = function(...args) {
                allLogs.push(`[${method.toUpperCase()}] ${args.join(' ')}`);
                logs.textContent = allLogs.join('\n');
                original.apply(console, args);
            };
        });
        
        function test(name, condition) {
            const div = document.createElement('div');
            div.className = condition ? 'pass' : 'fail';
            div.textContent = `${condition ? '✅' : '❌'} ${name}`;
            results.appendChild(div);
        }
    </script>
    
    <!-- Load files -->
    <script src="i18n.js"></script>
    <script src="storage.js"></script>
    
    <script>
        // Run tests
        setTimeout(() => {
            results.innerHTML = '<h2>Test Results:</h2>';
            
            test('window object exists', typeof window !== 'undefined');
            test('i18n variable exists', typeof i18n !== 'undefined');
            test('window.i18n exists', typeof window.i18n !== 'undefined');
            test('window.i18n === i18n', window.i18n === i18n);
            test('storageManager variable exists', typeof storageManager !== 'undefined');
            test('window.storageManager exists', typeof window.storageManager !== 'undefined');
            test('window.storageManager === storageManager', window.storageManager === storageManager);
            
            if (window.i18n && window.i18n.translate) {
                const appName = window.i18n.translate('appName');
                test('i18n.translate() works', !!appName);
                console.log('i18n.translate("appName"):', appName);
            }
            
            console.log('\n=== Window Object Keys ===');
            console.log(Object.keys(window).filter(k => k.includes('i18n') || k.includes('storage') || k.includes('Manager')).join(', '));
            
        }, 1000);
    </script>
</body>
</html>
